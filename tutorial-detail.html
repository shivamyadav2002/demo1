<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React Hooks Mastery Course - DevHub Tutorial</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-jsx.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            900: '#1e3a8a'
                        }
                    },
                    fontFamily: {
                        'sans': ['Inter', 'ui-sans-serif', 'system-ui']
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .tutorial-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            position: relative;
            overflow: hidden;
        }
        
        .tutorial-gradient::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 70%, rgba(102, 126, 234, 0.3), transparent 50%),
                        radial-gradient(circle at 70% 30%, rgba(255, 255, 255, 0.1), transparent 50%);
            animation: floating 6s ease-in-out infinite;
        }
        
        @keyframes floating {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(1deg); }
        }
        
        .video-player {
            background: #000;
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        .video-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(45deg, rgba(59, 130, 246, 0.9), rgba(139, 92, 246, 0.9));
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            cursor: pointer;
        }
        
        .video-overlay.show {
            opacity: 1;
        }
        
        .play-button {
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #3b82f6;
            transition: all 0.3s ease;
        }
        
        .play-button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
        }
        
        .chapter-item {
            transition: all 0.3s ease;
            cursor: pointer;
            border-left: 3px solid transparent;
        }
        
        .chapter-item:hover {
            background-color: rgba(59, 130, 246, 0.05);
            border-left-color: #3b82f6;
            transform: translateX(4px);
        }
        
        .chapter-item.active {
            background-color: rgba(59, 130, 246, 0.1);
            border-left-color: #3b82f6;
        }
        
        .dark .chapter-item:hover {
            background-color: rgba(59, 130, 246, 0.1);
        }
        
        .dark .chapter-item.active {
            background-color: rgba(59, 130, 246, 0.15);
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            height: 8px;
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        .code-editor {
            background: #1e293b;
            border-radius: 0.75rem;
            overflow: hidden;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        }
        
        .code-editor-header {
            background: #334155;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: between;
            align-items: center;
            border-bottom: 1px solid #475569;
        }
        
        .code-tabs {
            display: flex;
            gap: 0.5rem;
        }
        
        .code-tab {
            padding: 0.5rem 1rem;
            background: #475569;
            color: #cbd5e1;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.875rem;
        }
        
        .code-tab.active {
            background: #3b82f6;
            color: white;
        }
        
        .code-tab:hover {
            background: #64748b;
        }
        
        .quiz-card {
            background: linear-gradient(135deg, #fef3c7, #fde047);
            border: 2px solid #eab308;
            transition: all 0.3s ease;
        }
        
        .dark .quiz-card {
            background: linear-gradient(135deg, #92400e, #b45309);
            border-color: #d97706;
        }
        
        .quiz-option {
            background: white;
            border: 2px solid #e5e7eb;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .dark .quiz-option {
            background: #1f2937;
            border-color: #374151;
        }
        
        .quiz-option:hover {
            border-color: #3b82f6;
            background-color: rgba(59, 130, 246, 0.05);
        }
        
        .quiz-option.correct {
            border-color: #10b981;
            background-color: #dcfce7;
        }
        
        .dark .quiz-option.correct {
            background-color: #064e3b;
        }
        
        .quiz-option.incorrect {
            border-color: #ef4444;
            background-color: #fee2e2;
        }
        
        .dark .quiz-option.incorrect {
            background-color: #7f1d1d;
        }
        
        .note-card {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-left: 4px solid #3b82f6;
        }
        
        .dark .note-card {
            background: linear-gradient(135deg, #1e3a8a, #1e40af);
        }
        
        .instructor-card {
            background: linear-gradient(145deg, #ffffff, #f8fafc);
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }
        
        .dark .instructor-card {
            background: linear-gradient(145deg, #1f2937, #111827);
            border-color: #374151;
        }
        
        .instructor-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            border-color: #3b82f6;
        }
        
        .dark .instructor-card:hover {
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }
        
        .related-tutorial {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .dark .related-tutorial {
            background: linear-gradient(135deg, #1e293b, #334155);
        }
        
        .related-tutorial:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .sticky-sidebar {
            position: sticky;
            top: 2rem;
            max-height: calc(100vh - 4rem);
            overflow-y: auto;
        }
        
        .completion-badge {
            background: linear-gradient(45deg, #10b981, #059669);
            color: white;
            animation: completionPulse 2s infinite;
        }
        
        @keyframes completionPulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4); }
            50% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
        }
        
        .skill-progress {
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            height: 12px;
            border-radius: 6px;
            transition: width 1s ease;
        }
        
        .bookmark-button {
            transition: all 0.3s ease;
        }
        
        .bookmark-button.bookmarked {
            color: #fbbf24;
            transform: scale(1.1);
        }
        
        .difficulty-badge-beginner {
            background: linear-gradient(45deg, #10b981, #059669);
            color: white;
        }
        
        .difficulty-badge-intermediate {
            background: linear-gradient(45deg, #f59e0b, #d97706);
            color: white;
        }
        
        .difficulty-badge-advanced {
            background: linear-gradient(45deg, #ef4444, #dc2626);
            color: white;
        }
        
        .video-controls {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.6));
            backdrop-filter: blur(10px);
        }
        
        .transcript-highlight {
            background: rgba(59, 130, 246, 0.2);
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
        }
        
        .exercise-card {
            background: linear-gradient(135deg, #fefbff, #f3e8ff);
            border: 2px dashed #c084fc;
            transition: all 0.3s ease;
        }
        
        .dark .exercise-card {
            background: linear-gradient(135deg, #581c87, #6b21a8);
            border-color: #a855f7;
        }
        
        .exercise-card:hover {
            border-style: solid;
            transform: translateY(-2px);
        }
        
        .comment-thread {
            border-left: 3px solid #e5e7eb;
            padding-left: 1rem;
            margin-left: 1rem;
        }
        
        .dark .comment-thread {
            border-left-color: #374151;
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-300">
    <!-- Header -->
    <header class="bg-white dark:bg-gray-800 shadow-lg sticky top-0 z-50 transition-colors duration-300">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <!-- Logo & Brand -->
                <div class="flex items-center space-x-4">
                    <a href="index.html" class="flex items-center space-x-2">
                        <div class="w-10 h-10 bg-gradient-to-r from-primary-500 to-purple-600 rounded-lg flex items-center justify-center">
                            <i class="fas fa-code text-white text-lg"></i>
                        </div>
                        <h1 class="text-2xl font-bold bg-gradient-to-r from-primary-500 to-purple-600 bg-clip-text text-transparent">
                            DevHub
                        </h1>
                    </a>
                    <div class="hidden md:flex items-center space-x-2 text-gray-500">
                        <i class="fas fa-chevron-right text-sm"></i>
                        <a href="community-enhanced.html" class="text-gray-600 hover:text-primary-600">Tutorials</a>
                        <i class="fas fa-chevron-right text-sm"></i>
                        <span class="text-primary-600">React Hooks Mastery</span>
                    </div>
                </div>

                <!-- Tutorial Actions -->
                <div class="flex items-center space-x-4">
                    <!-- Progress Indicator -->
                    <div class="hidden lg:flex items-center space-x-3">
                        <span class="text-sm text-gray-600 dark:text-gray-400">Progress:</span>
                        <div class="w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                            <div class="progress-bar rounded-full" style="width: 35%" id="overall-progress"></div>
                        </div>
                        <span class="text-sm font-semibold text-primary-600" id="progress-text">35%</span>
                    </div>

                    <!-- Bookmark -->
                    <button onclick="toggleBookmark()" class="bookmark-button p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors" id="bookmark-btn">
                        <i class="far fa-bookmark text-xl"></i>
                    </button>

                    <!-- Dark Mode Toggle -->
                    <button onclick="toggleDarkMode()" class="p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
                        <i class="fas fa-moon dark:hidden"></i>
                        <i class="fas fa-sun hidden dark:block"></i>
                    </button>

                    <!-- Back to Tutorials -->
                    <a href="community-enhanced.html" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors">
                        <i class="fas fa-arrow-left mr-2"></i>All Tutorials
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Tutorial Header -->
    <section class="tutorial-gradient text-white py-16 relative">
        <div class="container mx-auto px-4 relative z-10">
            <div class="max-w-4xl mx-auto">
                <div class="flex items-center space-x-3 mb-4">
                    <span class="difficulty-badge-intermediate px-4 py-2 rounded-full text-sm font-bold">
                        Intermediate
                    </span>
                    <span class="bg-white/20 px-4 py-2 rounded-full text-sm font-semibold">
                        <i class="fas fa-clock mr-2"></i>2.5 hours
                    </span>
                    <span class="bg-white/20 px-4 py-2 rounded-full text-sm font-semibold">
                        <i class="fas fa-users mr-2"></i>12,459 enrolled
                    </span>
                </div>
                
                <h2 class="text-4xl md:text-5xl font-black mb-6">
                    React Hooks Mastery Course
                </h2>
                <p class="text-xl md:text-2xl mb-8 opacity-90 leading-relaxed">
                    Master React Hooks from useState to custom hooks with hands-on projects and real-world examples. 
                    Build 5 practical components while learning advanced patterns and performance optimization.
                </p>
                
                <!-- Instructor Info -->
                <div class="flex items-center space-x-4 mb-8">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/0e1ce49a-d65c-4c3d-a336-aeff92e50728.png" alt="Profile picture of Sarah Chen, React expert and DevHub instructor" class="w-15 h-15 rounded-full border-3 border-white/30">
                    <div>
                        <div class="text-lg font-bold">Sarah Chen</div>
                        <div class="text-blue-200">Senior React Engineer • Google</div>
                        <div class="flex items-center text-sm text-blue-300">
                            <i class="fas fa-star mr-1"></i>4.9 rating • 50+ courses
                        </div>
                    </div>
                </div>

                <!-- Key Learning Points -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white/10 backdrop-blur rounded-xl p-4">
                        <i class="fas fa-check-circle text-green-400 text-xl mb-2"></i>
                        <div class="font-semibold mb-1">Master All React Hooks</div>
                        <div class="text-sm opacity-75">useState, useEffect, useContext, and more</div>
                    </div>
                    <div class="bg-white/10 backdrop-blur rounded-xl p-4">
                        <i class="fas fa-project-diagram text-blue-400 text-xl mb-2"></i>
                        <div class="font-semibold mb-1">5 Hands-on Projects</div>
                        <div class="text-sm opacity-75">Build real components you can use immediately</div>
                    </div>
                    <div class="bg-white/10 backdrop-blur rounded-xl p-4">
                        <i class="fas fa-certificate text-purple-400 text-xl mb-2"></i>
                        <div class="font-semibold mb-1">Certificate of Completion</div>
                        <div class="text-sm opacity-75">Shareable credential for your portfolio</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Video Player & Content -->
            <div class="lg:w-2/3">
                <!-- Video Player -->
                <div class="video-player mb-8 relative">
                    <div class="aspect-video bg-gray-900 flex items-center justify-center">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/ce681388-ca5d-4100-933c-ffee5e8c8171.png" alt="React Hooks tutorial video showing useState and useEffect examples with live coding" class="w-full h-full object-cover">
                        <div class="video-overlay show" onclick="playVideo()">
                            <div class="play-button">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Video Controls (Hidden until video plays) -->
                    <div class="video-controls absolute bottom-0 left-0 right-0 p-4 hidden" id="video-controls">
                        <div class="flex items-center space-x-4">
                            <button onclick="togglePlay()" class="text-white hover:text-blue-300">
                                <i class="fas fa-pause" id="play-pause-icon"></i>
                            </button>
                            <div class="flex-1 bg-white/20 rounded-full h-1">
                                <div class="bg-blue-400 h-1 rounded-full" style="width: 35%" id="video-progress"></div>
                            </div>
                            <span class="text-white text-sm" id="video-time">12:34 / 35:20</span>
                            <button onclick="toggleFullscreen()" class="text-white hover:text-blue-300">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Current Lesson Content -->
                <div class="bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-2xl font-bold text-gray-800 dark:text-gray-100" id="current-lesson-title">
                            Chapter 3: useState Hook Deep Dive
                        </h3>
                        <div class="flex items-center space-x-2">
                            <span class="bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-full text-sm font-medium">
                                15:30 duration
                            </span>
                        </div>
                    </div>
                    
                    <div class="prose prose-lg dark:prose-invert max-w-none mb-8">
                        <p class="text-gray-600 dark:text-gray-400 leading-relaxed">
                            In this lesson, we'll explore the useState hook in detail, covering advanced patterns, 
                            performance considerations, and common pitfalls. You'll learn how to manage complex state, 
                            handle state updates properly, and optimize re-renders.
                        </p>
                    </div>

                    <!-- Key Points -->
                    <div class="note-card rounded-xl p-6 mb-8">
                        <h4 class="font-bold text-lg mb-4 text-gray-800 dark:text-gray-100">
                            <i class="fas fa-key mr-2 text-blue-600"></i>Key Learning Points
                        </h4>
                        <ul class="space-y-2 text-gray-700 dark:text-gray-300">
                            <li class="flex items-start space-x-2">
                                <i class="fas fa-check text-green-500 mt-1"></i>
                                <span>Understanding state initialization and lazy initial state</span>
                            </li>
                            <li class="flex items-start space-x-2">
                                <i class="fas fa-check text-green-500 mt-1"></i>
                                <span>Functional updates and previous state patterns</span>
                            </li>
                            <li class="flex items-start space-x-2">
                                <i class="fas fa-check text-green-500 mt-1"></i>
                                <span>Managing object and array state immutably</span>
                            </li>
                            <li class="flex items-start space-x-2">
                                <i class="fas fa-check text-green-500 mt-1"></i>
                                <span>Performance optimization with useState</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Code Example -->
                    <div class="mb-8">
                        <h4 class="font-bold text-lg mb-4 text-gray-800 dark:text-gray-100">Code Example</h4>
                        <div class="code-editor">
                            <div class="code-editor-header">
                                <div class="code-tabs">
                                    <div class="code-tab active" onclick="switchCodeTab('react')">React Hook</div>
                                    <div class="code-tab" onclick="switchCodeTab('example')">Usage Example</div>
                                    <div class="code-tab" onclick="switchCodeTab('demo')">Live Demo</div>
                                </div>
                                <button onclick="copyCode()" class="text-gray-400 hover:text-gray-200">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                            <div class="p-6">
                                <div id="react-code" class="code-content">
                                    <pre><code class="language-jsx">import React, { useState, useCallback } from 'react';

function useCounter(initialValue = 0) {
  const [count, setCount] = useState(initialValue);
  
  const increment = useCallback(() => {
    setCount(prevCount => prevCount + 1);
  }, []);
  
  const decrement = useCallback(() => {
    setCount(prevCount => prevCount - 1);
  }, []);
  
  const reset = useCallback(() => {
    setCount(initialValue);
  }, [initialValue]);
  
  return {
    count,
    increment,
    decrement,
    reset
  };
}

// Component using the custom hook
function Counter() {
  const { count, increment, decrement, reset } = useCounter(0);
  
  return (
    <div className="counter">
      <h2>Count: {count}</h2>
      <div className="controls">
        <button onClick={increment}>+</button>
        <button onClick={decrement}>-</button>
        <button onClick={reset}>Reset</button>
      </div>
    </div>
  );
}</code></pre>
                                </div>
                                <div id="example-code" class="code-content hidden">
                                    <pre><code class="language-jsx">// Advanced useState patterns
function UserProfile() {
  const [user, setUser] = useState({
    name: '',
    email: '',
    preferences: {
      theme: 'light',
      notifications: true
    }
  });
  
  // Updating nested state immutably
  const updatePreferences = (newPrefs) => {
    setUser(prevUser => ({
      ...prevUser,
      preferences: {
        ...prevUser.preferences,
        ...newPrefs
      }
    }));
  };
  
  // Using functional updates for async operations
  const handleAsyncUpdate = async () => {
    const userData = await fetchUserData();
    setUser(prevUser => ({
      ...prevUser,
      ...userData
    }));
  };
  
  return (
    <div>
      {/* Component JSX */}
    </div>
  );
}</code></pre>
                                </div>
                                <div id="demo-code" class="code-content hidden">
                                    <div class="bg-gray-800 rounded p-4 text-center">
                                        <div class="text-white mb-4">Interactive Demo</div>
                                        <div class="bg-gray-700 rounded p-4 mb-4">
                                            <div class="text-2xl font-bold text-white mb-4" id="demo-count">0</div>
                                            <div class="flex justify-center space-x-4">
                                                <button onclick="demoIncrement()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">+</button>
                                                <button onclick="demoDecrement()" class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">-</button>
                                                <button onclick="demoReset()" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700">Reset</button>
                                            </div>
                                        </div>
                                        <div class="text-sm text-gray-400">Try the buttons above!</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Practice Exercise -->
                    <div class="exercise-card rounded-xl p-6 mb-8">
                        <h4 class="font-bold text-lg mb-4 text-gray-800 dark:text-gray-100">
                            <i class="fas fa-dumbbell mr-2 text-purple-600"></i>Practice Exercise
                        </h4>
                        <p class="text-gray-600 dark:text-gray-400 mb-4">
                            Create a todo list component using useState. Implement add, remove, and toggle functionality 
                            with proper state management patterns.
                        </p>
                        <div class="flex space-x-4">
                            <button onclick="startExercise()" class="bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors font-semibold">
                                <i class="fas fa-play mr-2"></i>Start Exercise
                            </button>
                            <button onclick="showSolution()" class="bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition-colors font-semibold">
                                <i class="fas fa-eye mr-2"></i>View Solution
                            </button>
                        </div>
                    </div>

                    <!-- Quiz Section -->
                    <div class="quiz-card rounded-xl p-6 mb-8">
                        <h4 class="font-bold text-lg mb-6 text-gray-800 dark:text-gray-100">
                            <i class="fas fa-question-circle mr-2 text-yellow-600"></i>Knowledge Check
                        </h4>
                        <div class="mb-4">
                            <p class="font-semibold text-gray-800 dark:text-gray-100 mb-4">
                                What's the best practice for updating state that depends on the previous state?
                            </p>
                            <div class="space-y-3" id="quiz-options">
                                <div class="quiz-option rounded-lg p-4" onclick="selectQuizOption(0)">
                                    <span>A) setCount(count + 1)</span>
                                </div>
                                <div class="quiz-option rounded-lg p-4" onclick="selectQuizOption(1)">
                                    <span>B) setCount(prevCount => prevCount + 1)</span>
                                </div>
                                <div class="quiz-option rounded-lg p-4" onclick="selectQuizOption(2)">
                                    <span>C) setCount(useState()[0] + 1)</span>
                                </div>
                                <div class="quiz-option rounded-lg p-4" onclick="selectQuizOption(3)">
                                    <span>D) setCount(Math.random())</span>
                                </div>
                            </div>
                            <div class="mt-4 hidden" id="quiz-explanation">
                                <div class="bg-green-50 dark:bg-green-900 border border-green-200 dark:border-green-700 rounded-lg p-4">
                                    <p class="text-green-800 dark:text-green-200 font-semibold mb-2">Correct!</p>
                                    <p class="text-green-700 dark:text-green-300 text-sm">
                                        Using the functional update pattern (option B) ensures you always have the latest state value, 
                                        especially important with async operations and strict mode.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation -->
                    <div class="flex items-center justify-between">
                        <button onclick="previousLesson()" class="bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors font-semibold">
                            <i class="fas fa-arrow-left mr-2"></i>Previous: useEffect Basics
                        </button>
                        <button onclick="markComplete()" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold">
                            <i class="fas fa-check mr-2"></i>Mark as Complete
                        </button>
                        <button onclick="nextLesson()" class="bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors font-semibold">
                            Next: Custom Hooks<i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <aside class="lg:w-1/3">
                <div class="sticky-sidebar space-y-6">
                    <!-- Course Progress -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg">
                        <h3 class="text-xl font-bold mb-4 text-gray-800 dark:text-gray-100">Course Progress</h3>
                        <div class="mb-4">
                            <div class="flex justify-between text-sm mb-2">
                                <span class="text-gray-600 dark:text-gray-400">Overall Progress</span>
                                <span class="font-semibold text-primary-600">7 of 20 lessons</span>
                            </div>
                            <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3">
                                <div class="skill-progress rounded-full" style="width: 35%"></div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-3 gap-4 text-center text-sm">
                            <div>
                                <div class="font-bold text-green-600">7</div>
                                <div class="text-gray-500">Completed</div>
                            </div>
                            <div>
                                <div class="font-bold text-blue-600">1</div>
                                <div class="text-gray-500">Current</div>
                            </div>
                            <div>
                                <div class="font-bold text-gray-600">12</div>
                                <div class="text-gray-500">Remaining</div>
                            </div>
                        </div>
                    </div>

                    <!-- Course Chapters -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg">
                        <h3 class="text-xl font-bold mb-4 text-gray-800 dark:text-gray-100">Course Chapters</h3>
                        <div class="space-y-2" id="chapters-list">
                            <!-- Chapters will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Instructor Info -->
                    <div class="instructor-card rounded-xl p-6 shadow-lg">
                        <div class="flex items-center space-x-4 mb-4">
                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/a834c38f-89c6-433c-8086-fa680b6d13ec.png" alt="Sarah Chen instructor profile" class="w-15 h-15 rounded-full">
                            <div>
                                <div class="font-bold text-gray-800 dark:text-gray-100">Sarah Chen</div>
                                <div class="text-sm text-gray-600 dark:text-gray-400">Senior React Engineer</div>
                                <div class="flex items-center text-yellow-500 text-sm">
                                    <i class="fas fa-star mr-1"></i>4.9 (2,400 reviews)
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-600 dark:text-gray-400 text-sm mb-4">
                            Senior React Engineer at Google with 8+ years of experience. Author of popular React libraries 
                            and contributor to React core team.
                        </p>
                        <div class="flex space-x-2">
                            <button onclick="followInstructor()" class="flex-1 bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-sm font-semibold">
                                Follow
                            </button>
                            <button onclick="messageInstructor()" class="bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors text-sm">
                                <i class="fas fa-envelope"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Course Stats -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg">
                        <h3 class="text-xl font-bold mb-4 text-gray-800 dark:text-gray-100">Course Stats</h3>
                        <div class="space-y-3 text-sm">
                            <div class="flex justify-between">
                                <span class="text-gray-600 dark:text-gray-400">Students Enrolled</span>
                                <span class="font-bold text-blue-600">12,459</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600 dark:text-gray-400">Completion Rate</span>
                                <span class="font-bold text-green-600">87%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600 dark:text-gray-400">Average Rating</span>
                                <span class="font-bold text-yellow-600">4.8 ⭐</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600 dark:text-gray-400">Last Updated</span>
                                <span class="font-medium text-gray-800 dark:text-gray-100">2 days ago</span>
                            </div>
                        </div>
                    </div>

                    <!-- Related Tutorials -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg">
                        <h3 class="text-xl font-bold mb-4 text-gray-800 dark:text-gray-100">Related Tutorials</h3>
                        <div class="space-y-4" id="related-tutorials">
                            <!-- Related tutorials will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </aside>
        </div>

        <!-- Comments Section -->
        <section class="mt-16">
            <div class="bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg">
                <div class="flex items-center justify-between mb-8">
                    <h3 class="text-2xl font-bold text-gray-800 dark:text-gray-100">Discussion (234 comments)</h3>
                    <button onclick="addComment()" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors">
                        <i class="fas fa-plus mr-2"></i>Add Comment
                    </button>
                </div>
                
                <div class="space-y-6" id="comments-list">
                    <!-- Comments will be populated by JavaScript -->
                </div>
                
                <div class="text-center mt-8">
                    <button onclick="loadMoreComments()" class="bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-6 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors">
                        Load More Comments
                    </button>
                </div>
            </div>
        </section>
    </main>

    <script>
        // State Management
        let isDarkMode = false;
        let isBookmarked = false;
        let currentChapter = 3;
        let isVideoPlaying = false;
        let demoCount = 0;

        // Course data
        const courseChapters = [
            { id: 1, title: 'Introduction to React Hooks', duration: '12:45', completed: true, type: 'video' },
            { id: 2, title: 'Setting Up the Development Environment', duration: '8:30', completed: true, type: 'tutorial' },
            { id: 3, title: 'useState Hook Deep Dive', duration: '15:30', completed: false, current: true, type: 'video' },
            { id: 4, title: 'useEffect Hook and Side Effects', duration: '18:20', completed: false, type: 'video' },
            { id: 5, title: 'Custom Hooks Creation', duration: '22:15', completed: false, type: 'tutorial' },
            { id: 6, title: 'useContext for State Management', duration: '16:45', completed: false, type: 'video' },
            { id: 7, title: 'useReducer for Complex State', duration: '20:30', completed: false, type: 'video' },
            { id: 8, title: 'Performance Hooks: useMemo & useCallback', duration: '25:10', completed: false, type: 'tutorial' },
            { id: 9, title: 'Advanced Patterns and Best Practices', duration: '19:45', completed: false, type: 'video' },
            { id: 10, title: 'Final Project: Building a Dashboard', duration: '35:20', completed: false, type: 'project' }
        ];

        const relatedTutorials = [
            {
                title: 'Advanced React Patterns',
                duration: '3.5 hours',
                rating: 4.7,
                students: '8,934',
                imageUrl: 'https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/5664058b-90ea-4eb2-b0c1-ace9257dbb55.png',
                imageAlt: 'Advanced React patterns tutorial thumbnail'
            },
            {
                title: 'React Performance Optimization',
                duration: '2 hours',
                rating: 4.9,
                students: '6,234',
                imageUrl: 'https://placehold.co/200x120',
                imageAlt: 'React performance optimization tutorial thumbnail'
            },
            {
                title: 'State Management with Redux',
                duration: '4 hours',
                rating: 4.6,
                students: '11,456',
                imageUrl: 'https://placehold.co/200x120',
                imageAlt: 'Redux state management tutorial thumbnail'
            }
        ];

        const comments = [
            {
                id: 1,
                author: 'Alex Thompson',
                avatar: 'https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/10f62cd1-f4a6-4d8a-8a3f-3cbd36fe8df5.png',
                content: 'Excellent explanation of useState! The custom hook example really helped me understand the pattern.',
                timestamp: '2 hours ago',
                likes: 12,
                replies: [
                    {
                        author: 'Sarah Chen',
                        avatar: 'https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/fd2b2d5f-cf9b-4a0f-8997-94830935b626.png',
                        content: 'Thanks Alex! Custom hooks are definitely a game-changer once you get the hang of them.',
                        timestamp: '1 hour ago',
                        instructor: true
                    }
                ]
            },
            {
                id: 2,
                author: 'Maria Garcia',
                avatar: 'https://placehold.co/40x40',
                content: 'I was struggling with functional updates before this lesson. The examples are so clear and practical!',
                timestamp: '5 hours ago',
                likes: 8,
                replies: []
            },
            {
                id: 3,
                author: 'David Kim',
                avatar: 'https://placehold.co/40x40',
                content: 'Question: When should I use useReducer instead of useState for complex state management?',
                timestamp: '1 day ago',
                likes: 15,
                replies: [
                    {
                        author: 'Sarah Chen',
                        avatar: 'https://placehold.co/32x32',
                        content: 'Great question! We\'ll cover useReducer in chapter 7, but generally when you have complex state logic or multiple state values that depend on each other.',
                        timestamp: '1 day ago',
                        instructor: true
                    }
                ]
            }
        ];

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializePage();
            renderChapters();
            renderRelatedTutorials();
            renderComments();
            Prism.highlightAll();
        });

        function initializePage() {
            if (localStorage.getItem('darkMode') === 'true') {
                isDarkMode = true;
                document.documentElement.classList.add('dark');
            }
        }

        function renderChapters() {
            const container = document.getElementById('chapters-list');
            container.innerHTML = courseChapters.map(chapter => `
                <div class="chapter-item ${chapter.current ? 'active' : ''} rounded-lg p-4" onclick="selectChapter(${chapter.id})">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 rounded-full flex items-center justify-center ${chapter.completed ? 'bg-green-500 text-white' : chapter.current ? 'bg-blue-500 text-white' : 'bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-400'}">
                            ${chapter.completed ? '<i class="fas fa-check text-xs"></i>' : chapter.id}
                        </div>
                        <div class="flex-1">
                            <div class="font-medium text-sm text-gray-800 dark:text-gray-100">${chapter.title}</div>
                            <div class="flex items-center space-x-3 text-xs text-gray-500">
                                <span><i class="fas fa-play mr-1"></i>${chapter.duration}</span>
                                <span class="px-2 py-1 rounded ${chapter.type === 'video' ? 'bg-blue-100 text-blue-800' : chapter.type === 'tutorial' ? 'bg-green-100 text-green-800' : 'bg-purple-100 text-purple-800'}">${chapter.type}</span>
                            </div>
                        </div>
                        ${chapter.current ? '<i class="fas fa-play text-blue-500"></i>' : ''}
                    </div>
                </div>
            `).join('');
        }

        function renderRelatedTutorials() {
            const container = document.getElementById('related-tutorials');
            container.innerHTML = relatedTutorials.map(tutorial => `
                <div class="related-tutorial rounded-lg p-4" onclick="openRelatedTutorial('${tutorial.title}')">
                    <div class="flex space-x-3">
                        <img src="${tutorial.imageUrl}" alt="${tutorial.imageAlt}" class="w-16 h-10 object-cover rounded">
                        <div class="flex-1">
                            <div class="font-medium text-sm text-gray-800 dark:text-gray-100 mb-1">${tutorial.title}</div>
                            <div class="flex items-center space-x-3 text-xs text-gray-500">
                                <span><i class="fas fa-clock mr-1"></i>${tutorial.duration}</span>
                                <span><i class="fas fa-star mr-1 text-yellow-500"></i>${tutorial.rating}</span>
                                <span><i class="fas fa-users mr-1"></i>${tutorial.students}</span>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderComments() {
            const container = document.getElementById('comments-list');
            container.innerHTML = comments.map(comment => `
                <div class="border-b dark:border-gray-700 pb-6">
                    <div class="flex items-start space-x-4">
                        <img src="${comment.avatar}" alt="Profile of ${comment.author}" class="w-10 h-10 rounded-full">
                        <div class="flex-1">
                            <div class="flex items-center space-x-3 mb-2">
                                <div class="font-semibold text-gray-800 dark:text-gray-100">${comment.author}</div>
                                ${comment.instructor ? '<span class="bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-2 py-1 rounded-full text-xs font-medium">Instructor</span>' : ''}
                                <span class="text-sm text-gray-500">${comment.timestamp}</span>
                            </div>
                            <p class="text-gray-600 dark:text-gray-400 mb-3">${comment.content}</p>
                            <div class="flex items-center space-x-4">
                                <button onclick="likeComment(${comment.id})" class="text-gray-500 hover:text-blue-500 transition-colors text-sm">
                                    <i class="far fa-thumbs-up mr-1"></i>${comment.likes}
                                </button>
                                <button onclick="replyToComment(${comment.id})" class="text-gray-500 hover:text-primary-600 transition-colors text-sm">
                                    <i class="fas fa-reply mr-1"></i>Reply
                                </button>
                            </div>
                            
                            ${comment.replies.length > 0 ? `
                                <div class="comment-thread mt-4">
                                    ${comment.replies.map(reply => `
                                        <div class="flex items-start space-x-3 mb-3">
                                            <img src="${reply.avatar}" alt="Profile of ${reply.author}" class="w-8 h-8 rounded-full">
                                            <div class="flex-1">
                                                <div class="flex items-center space-x-2 mb-1">
                                                    <div class="font-medium text-sm text-gray-800 dark:text-gray-100">${reply.author}</div>
                                                    ${reply.instructor ? '<span class="bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-2 py-1 rounded-full text-xs font-medium">Instructor</span>' : ''}
                                                    <span class="text-xs text-gray-500">${reply.timestamp}</span>
                                                </div>
                                                <p class="text-sm text-gray-600 dark:text-gray-400">${reply.content}</p>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Video Functions
        function playVideo() {
            const overlay = document.querySelector('.video-overlay');
            const controls = document.getElementById('video-controls');
            
            overlay.classList.remove('show');
            controls.classList.remove('hidden');
            isVideoPlaying = true;
            
            showNotification('Video started! Use the controls to navigate.', 'info');
        }

        function togglePlay() {
            const icon = document.getElementById('play-pause-icon');
            isVideoPlaying = !isVideoPlaying;
            
            if (isVideoPlaying) {
                icon.className = 'fas fa-pause';
            } else {
                icon.className = 'fas fa-play';
            }
        }

        function toggleFullscreen() {
            showNotification('Entering fullscreen mode...', 'info');
        }

        // Chapter Navigation
        function selectChapter(chapterId) {
            const chapter = courseChapters.find(c => c.id === chapterId);
            if (chapter) {
                // Update current chapter
                courseChapters.forEach(c => c.current = false);
                chapter.current = true;
                
                document.getElementById('current-lesson-title').textContent = `Chapter ${chapterId}: ${chapter.title}`;
                renderChapters();
                
                showNotification(`Switched to ${chapter.title}`, 'success');
            }
        }

        function previousLesson() {
            if (currentChapter > 1) {
                selectChapter(currentChapter - 1);
                currentChapter--;
            }
        }

        function nextLesson() {
            if (currentChapter < courseChapters.length) {
                selectChapter(currentChapter + 1);
                currentChapter++;
            }
        }

        function markComplete() {
            const chapter = courseChapters.find(c => c.id === currentChapter);
            if (chapter) {
                chapter.completed = true;
                chapter.current = false;
                
                // Mark next chapter as current
                if (currentChapter < courseChapters.length) {
                    const nextChapter = courseChapters.find(c => c.id === currentChapter + 1);
                    if (nextChapter) {
                        nextChapter.current = true;
                    }
                }
                
                renderChapters();
                updateProgress();
                showNotification('Lesson marked as complete! 🎉', 'success');
            }
        }

        function updateProgress() {
            const completedChapters = courseChapters.filter(c => c.completed).length;
            const totalChapters = courseChapters.length;
            const progressPercent = (completedChapters / totalChapters) * 100;
            
            document.getElementById('overall-progress').style.width = progressPercent + '%';
            document.getElementById('progress-text').textContent = Math.round(progressPercent) + '%';
        }

        // Code Editor Functions
        function switchCodeTab(tabName) {
            // Update tab states
            document.querySelectorAll('.code-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Show relevant code content
            document.querySelectorAll('.code-content').forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(tabName + '-code').classList.remove('hidden');
            
            // Re-highlight code
            Prism.highlightAll();
        }

        function copyCode() {
            const activeCode = document.querySelector('.code-content:not(.hidden) code');
            if (activeCode) {
                navigator.clipboard.writeText(activeCode.textContent).then(() => {
                    showNotification('Code copied to clipboard!', 'success');
                });
            }
        }

        // Demo Functions
        function demoIncrement() {
            demoCount++;
            document.getElementById('demo-count').textContent = demoCount;
        }

        function demoDecrement() {
            demoCount--;
            document.getElementById('demo-count').textContent = demoCount;
        }

        function demoReset() {
            demoCount = 0;
            document.getElementById('demo-count').textContent = demoCount;
        }

        // Quiz Functions
        function selectQuizOption(optionIndex) {
            const options = document.querySelectorAll('.quiz-option');
            const explanation = document.getElementById('quiz-explanation');
            
            // Reset all options
            options.forEach(option => {
                option.classList.remove('correct', 'incorrect');
            });
            
            // Mark correct answer (option 1 is correct)
            if (optionIndex === 1) {
                options[optionIndex].classList.add('correct');
                explanation.classList.remove('hidden');
                showNotification('Correct! Well done! 🎉', 'success');
            } else {
                options[optionIndex].classList.add('incorrect');
                options[1].classList.add('correct'); // Show correct answer
                explanation.classList.remove('hidden');
                showNotification('Not quite right. The correct answer is highlighted.', 'warning');
            }
        }

        // Exercise Functions
        function startExercise() {
            showNotification('Opening interactive exercise environment...', 'info');
            // In a real app, this would open a code editor
        }

        function showSolution() {
            showNotification('Opening exercise solution...', 'info');
            // In a real app, this would show the solution code
        }

        // Interaction Functions
        function toggleBookmark() {
            const btn = document.getElementById('bookmark-btn');
            const icon = btn.querySelector('i');
            
            isBookmarked = !isBookmarked;
            
            if (isBookmarked) {
                icon.className = 'fas fa-bookmark text-xl text-yellow-500';
                btn.classList.add('bookmarked');
                showNotification('Tutorial bookmarked!', 'success');
            } else {
                icon.className = 'far fa-bookmark text-xl';
                btn.classList.remove('bookmarked');
                showNotification('Bookmark removed', 'info');
            }
        }

        function followInstructor() {
            showNotification('You are now following Sarah Chen!', 'success');
        }

        function messageInstructor() {
            showNotification('Opening message composer...', 'info');
        }

        function addComment() {
            showNotification('Opening comment editor...', 'info');
        }

        function loadMoreComments() {
            showNotification('Loading more comments...', 'info');
        }

        function likeComment(commentId) {
            showNotification('Comment liked!', 'success');
        }

        function replyToComment(commentId) {
            showNotification('Opening reply editor...', 'info');
        }

        function openRelatedTutorial(title) {
            showNotification(`Opening "${title}" tutorial...`, 'info');
        }

        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.documentElement.classList.toggle('dark');
            localStorage.setItem('darkMode', isDarkMode);
        }

        function showNotification(message, type = 'info') {
            const colors = {
                info: 'bg-blue-500',
                success: 'bg-green-500',
                warning: 'bg-yellow-500',
                error: 'bg-red-500'
            };
            
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 ${colors[type]} text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300 transform translate-x-full`;
            notification.innerHTML = `
                <div class="flex items-center space-x-2">
                    <i class="fas fa-info-circle"></i>
                    <span class="font-medium">${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" class="ml-2 text-white hover:text-gray-200">
                        <i class="fas fa-times text-xs"></i>
                    </button>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }

        // Initialize progress
        updateProgress();
    </script>
</body>
</html>

